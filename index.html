<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Html5本地储存Web Storage</title>
</head>
<body>
	<div style="border: 2px dashed red;width:380px;text-align:center;">     
        <label for="user_name">姓名：</label>  
        <input type="text" id="user_name" name="user_name" class="text"/>  
        <br/>  
        <label for="mobilephone">手机：</label>  
        <input type="text" id="mobilephone" name="mobilephone"/>  
        <br/>   
        <label for="mobilephone">故事：</label>  
        <input type="text" id="letv" name="letv"/>  
        <br/>   
        <input type="button" onclick="save()" value="提交"/>      
    </div>
    <br/> 
    <script>
    		//保存数据  
		function save(){
		    var contact = new Object;  
		    contact.user_name = document.getElementById("user_name").value;  
		    contact.mobilephone = document.getElementById("mobilephone").value;  
		    contact.letv = document.getElementById("letv").value;  
		    var str = JSON.stringify(contact);
		    if(window.sessionStorage){ 
		    	sessionStorage.setItem(contact,str);  
		    }else{
		        alert("浏览器还不支持 web storage 功能");
			return;
		    }  
		}
		
		//将所有存储在localStorage中的对象提取出来，并展现到界面上  
		function loadAll(){
		    if( !window.sessionStorage ){   
		        alert("浏览器还不支持 web storage 功能");
			return; //可进行其他处理
		    }
		    if(sessionStorage.length>0){
		        for(var i=0;i<sessionStorage.length;i++){  
		            var mstr = sessionStorage.key(i);  
		            var str = sessionStorage.getItem(mstr);  
		            var contact = JSON.parse(str); 
		            document.getElementById("user_name").value = contact.user_name;
		            document.getElementById("mobilephone").value = contact.mobilephone;
		            document.getElementById("letv").value = contact.letv;
		        } 
		    }
		}
		loadAll();
    </script>
</body>
</html>